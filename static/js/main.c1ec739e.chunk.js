(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{100:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a(44),c=a.n(n),r=a(8),i=a(2),l=a(3),o=a(6),j=a(5),m=a(4),b=a(0),h=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(b.jsx)("section",{className:"bg-black-25 mb-5",children:Object(b.jsx)("div",{className:"container-fluid",children:Object(b.jsxs)("nav",{className:"navbar navbar-expand-lg navbar-dark bg-transparent px-0 py-3",children:[Object(b.jsx)(r.b,{className:"navbar-brand text-warning",to:"/home",children:Object(b.jsxs)("strong",{children:[Object(b.jsx)("img",{className:"mr-2 mb-1",src:"https://img.icons8.com/ios-glyphs/24/ffc107/film-reel--v1.png",alt:"logo"}),"MyMDB_"]})}),Object(b.jsx)("button",{className:"navbar-toggler",type:"button","data-toggle":"collapse","data-target":"#navbarSupportedContent","aria-controls":"navbarSupportedContent","aria-expanded":"false","aria-label":"Toggle navigation",children:Object(b.jsx)("span",{className:"navbar-toggler-icon"})}),Object(b.jsxs)("div",{className:"collapse navbar-collapse",id:"navbarSupportedContent",children:[Object(b.jsxs)("ul",{className:"navbar-nav mr-auto",children:[Object(b.jsx)("li",{className:"nav-item ml-3",children:Object(b.jsxs)(r.c,{className:"nav-link",to:"/home",children:[Object(b.jsx)("img",{className:"mr-2 mb-1",src:"https://img.icons8.com/ios-glyphs/22/ffffff/home-page.png",alt:"home"}),"Home"]})}),Object(b.jsx)("li",{className:"nav-item ml-3",children:Object(b.jsxs)(r.c,{className:"nav-link",to:"/movies",children:[Object(b.jsx)("img",{className:"mr-2 mb-1",src:"https://img.icons8.com/ios-glyphs/22/ffffff/cinema---v1.png",alt:"movies"}),"Movies"]})}),Object(b.jsx)("li",{className:"nav-item ml-3",children:Object(b.jsxs)(r.c,{className:"nav-link",to:"/tv",children:[Object(b.jsx)("img",{className:"mr-2 mb-1",src:"https://img.icons8.com/ios-glyphs/22/ffffff/retro-tv.png",alt:"tv shows"}),"TV Shows"]})}),Object(b.jsx)("li",{className:"nav-item ml-3",children:Object(b.jsxs)(r.c,{className:"nav-link",to:"/people",children:[Object(b.jsx)("img",{className:"mr-2 mb-1",src:"https://img.icons8.com/ios-glyphs/22/ffffff/group.png",alt:"people"}),"People"]})})]}),Object(b.jsxs)("ul",{className:"navbar-nav ml-auto",children:[Object(b.jsx)("li",{className:"nav-item mr-3",children:Object(b.jsx)(r.c,{className:"nav-link",to:"/login",children:"Login"})}),Object(b.jsx)("li",{className:"nav-item mr-3",children:Object(b.jsx)(r.c,{className:"nav-link",to:"/register",children:"Register"})})]}),Object(b.jsx)("div",{className:"w-25",children:Object(b.jsx)("input",{className:"form-control",type:"search",placeholder:"Search","aria-label":"Search"})})]})]})})})}}]),a}(s.Component),d=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(b.jsx)("section",{className:"bg-black-25 mt-5 py-4",children:Object(b.jsx)("div",{className:"container-fluid",children:Object(b.jsx)("div",{className:"row",children:Object(b.jsx)("div",{className:"col-12 text-center",children:Object(b.jsx)(r.b,{className:"h4 text-warning",to:"/home",children:Object(b.jsxs)("strong",{children:[Object(b.jsx)("img",{className:"mr-2 mb-1",src:"https://img.icons8.com/ios-glyphs/20/ffc107/film-reel--v1.png",alt:"logo"}),"MyMDB_"]})})})})})})}}]),a}(s.Component),u=a(15),O=a.n(u),p=a(20),g=a(17),x=a(18),v=a.n(x),f=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={movies:[],tv:[]},e.getTrending=function(){var t=Object(g.a)(O.a.mark((function t(a){var s,n;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,v.a.get("https://api.themoviedb.org/3/trending/".concat(a,"/day?api_key=e38939d40dcf4625737c388e54bc8f1f"));case 2:s=t.sent,n=s.data,e.setState(Object(p.a)({},a,n.results));case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}(),e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.getTrending("movies"),this.getTrending("tv")}},{key:"render",value:function(){return Object(b.jsx)("section",{children:Object(b.jsxs)("div",{className:"container-fluid",children:[Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-md-4",children:Object(b.jsxs)("div",{className:"movie my-3 p-5",children:[Object(b.jsx)("div",{className:"brdr w-25 mb-4"}),Object(b.jsxs)("h2",{className:"text-uppercase",children:["Trending",Object(b.jsx)("br",{}),Object(b.jsx)("span",{className:"text-big text-warning",children:"Movies"})]}),Object(b.jsx)("h3",{className:"h4",children:"To watch right now"}),Object(b.jsx)("p",{children:"Most watched movies by days"}),Object(b.jsx)("div",{className:"brdr w-75 mt-4"})]})}),this.state.movies.slice(0,10).map((function(e){return Object(b.jsx)("div",{className:"col-6 col-md-2",children:Object(b.jsxs)("div",{className:"movie my-3",children:[Object(b.jsx)("img",{className:"w-100 rounded",src:"https://image.tmdb.org/t/p/w500/"+e.poster_path,alt:""}),Object(b.jsx)("h3",{className:"h5 mt-2",children:void 0===e.title?e.original_name:e.title})]})},e.id)}))]}),Object(b.jsxs)("div",{className:"row",children:[Object(b.jsx)("div",{className:"col-md-4",children:Object(b.jsxs)("div",{className:"movie my-3 p-5",children:[Object(b.jsx)("div",{className:"brdr w-25 mb-4"}),Object(b.jsxs)("h2",{className:"text-uppercase",children:["Trending",Object(b.jsx)("br",{}),Object(b.jsx)("span",{className:"text-big text-warning",children:"TV Shows"})]}),Object(b.jsx)("h3",{className:"h4",children:"To watch right now"}),Object(b.jsx)("p",{children:"Most watched TV Shows by days"}),Object(b.jsx)("div",{className:"brdr w-75 mt-4"})]})}),this.state.tv.slice(0,10).map((function(e){return Object(b.jsx)("div",{className:"col-6 col-md-2",children:Object(b.jsxs)("div",{className:"tvShow my-3",children:[Object(b.jsx)("img",{className:"w-100 rounded",src:"https://image.tmdb.org/t/p/w500/"+e.poster_path,alt:""}),Object(b.jsx)("h3",{className:"h5 mt-2",children:void 0===e.title?e.original_name:e.title})]})},e.id)}))]})]})})}}]),a}(s.Component),N=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(b.jsx)("section",{children:Object(b.jsx)("div",{className:"container-fluid",children:Object(b.jsx)("h2",{children:"Movies Component"})})})}}]),a}(s.Component),y=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(b.jsx)("section",{children:Object(b.jsx)("div",{className:"container-fluid",children:Object(b.jsx)("h2",{children:"TvShows Component"})})})}}]),a}(s.Component),w=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(b.jsx)("section",{children:Object(b.jsx)("div",{className:"container-fluid",children:Object(b.jsx)("h2",{children:"People Component"})})})}}]),a}(s.Component),S=a(9),C=a(14),k=a.n(C),F=a(26),T=a(21),_=a.n(T),D=new(function(){function e(){Object(i.a)(this,e),this.authenticated=!1}return Object(l.a)(e,[{key:"logIn",value:function(e){this.authenticated=!0,e()}},{key:"logOut",value:function(e){this.authenticated=!1,e()}},{key:"isAuth",value:function(){return this.authenticated}}]),e}()),E=new _.a({encodingType:"aes"}),M=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={email:"",password:"",error:""},e.loginFormChange=function(t){var a=Object(S.a)({},e.state);a[t.target.name]=t.target.value,e.setState(a)},e.loginFormSubmit=function(t){t.preventDefault();var a=e.loginFormValidation();if(a.error){var s=Object(S.a)({},e.state);s.error=a.error,e.setState(s)}else e.loginDataSend()},e.loginFormValidation=function(){var t=k.a.object({email:k.a.string().email({minDomainSegments:2,tlds:{allow:["com","net"]}}),password:k.a.string().pattern(new RegExp("^[a-zA-Z0-9]{3,30}$")).required()}),a=Object(S.a)({},e.state);return delete a.error,t.validate(a,{abortEarly:!1})},e.loginDataSend=Object(g.a)(O.a.mark((function t(){var a,s,n,c,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return delete(a=Object(S.a)({},e.state)).error,t.next=4,v.a.post("https://route-egypt-api.herokuapp.com/signin",a);case 4:s=t.sent,"success"===(n=s.data).message?(c=Object(S.a)({},e.state),E.set("currentUser",n.token),c.error="",e.setState(c),D.logIn((function(){e.props.history.replace("/home")}))):(console.log(n.message),(r=Object(S.a)({},e.state)).error="error",e.setState(r));case 7:case"end":return t.stop()}}),t)}))),e}return Object(l.a)(a,[{key:"render",value:function(){return Object(b.jsx)("section",{children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h2",{children:"Login"}),""!==this.state.error?Object(b.jsxs)("ul",{className:"alert alert-danger list-unstyled mt-3",children:[Object(b.jsx)("h5",{children:"Error!"}),Object(b.jsx)("hr",{}),Object(b.jsx)("li",{children:"Incorrect Email or Password, Please try again."})]}):null,Object(b.jsxs)("form",{onSubmit:this.loginFormSubmit,className:"my-4 p-5 border border-white-50 rounded",children:[Object(b.jsx)("label",{htmlFor:"",className:"mt-3",children:"Email:"}),Object(b.jsx)("input",{type:"text",className:"form-control",name:"email",onChange:this.loginFormChange,value:this.state.email}),Object(b.jsx)("label",{htmlFor:"",className:"mt-3",children:"Password:"}),Object(b.jsx)("input",{type:"password",className:"form-control",name:"password",onChange:this.loginFormChange,value:this.state.password}),Object(b.jsx)("button",{type:"submit",className:"btn btn-outline-warning mt-4",children:"Login"})]})]})})}}]),a}(s.Component),A=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(){var e;Object(i.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).state={first_name:"",last_name:"",email:"",password:"",age:"",error:"",success:""},e.registerFormChange=function(t){var a=Object(S.a)({},e.state);a[t.target.name]=t.target.value,e.setState(a)},e.registerFormSubmit=function(t){t.preventDefault();var a=e.registerFormValidation();if(a.error){var s=Object(S.a)({},e.state);s.error=a.error,e.setState(s)}else e.registerDataSend()},e.registerFormValidation=function(){var t=k.a.object({first_name:k.a.string().min(3).max(12).required(),last_name:k.a.string().min(3).max(12).required(),email:k.a.string().email({minDomainSegments:2,tlds:{allow:["com","net"]}}),age:k.a.number().integer().min(10).max(80).required(),password:k.a.string().pattern(new RegExp("^[a-zA-Z0-9]{3,30}$")).required()}),a=Object(S.a)({},e.state);return delete a.error,delete a.success,t.validate(a,{abortEarly:!1})},e.registerDataSend=Object(g.a)(O.a.mark((function t(){var a,s,n,c,r;return O.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return delete(a=Object(S.a)({},e.state)).error,delete a.success,t.next=5,v.a.post("https://route-egypt-api.herokuapp.com/signup",a);case 5:s=t.sent,"success"===(n=s.data).message?((c=Object(S.a)({},e.state)).error="",c.success="Registration Success",e.setState(c)):(console.log(n.message),(r=Object(S.a)({},e.state)).error={details:[{message:n.message}]},e.setState(r));case 8:case"end":return t.stop()}}),t)}))),e}return Object(l.a)(a,[{key:"render",value:function(){return Object(b.jsx)("section",{children:Object(b.jsxs)("div",{className:"container",children:[Object(b.jsx)("h2",{children:"Register"}),""!==this.state.error?Object(b.jsxs)("ul",{className:"alert alert-danger list-unstyled mt-3",children:[Object(b.jsx)("h5",{children:"Error!"}),Object(b.jsx)("hr",{}),this.state.error.details.map((function(e){return Object(b.jsx)("li",{children:"- "+e.message},e.message)}))]}):null,"Registration Success"==this.state.success?Object(b.jsxs)("ul",{className:"alert alert-success list-unstyled mt-3",children:[Object(b.jsx)("h5",{children:"Success"}),Object(b.jsx)("hr",{}),Object(b.jsxs)("li",{children:["Registration Success, Go to ",Object(b.jsx)(r.b,{to:"/login",children:"Login"}),"."]})]}):null,Object(b.jsxs)("form",{onSubmit:this.registerFormSubmit,className:"my-4 p-5 border border-white-50 rounded",children:[Object(b.jsx)("label",{htmlFor:"",children:"First Name:"}),Object(b.jsx)("input",{type:"text",className:"form-control",name:"first_name",onChange:this.registerFormChange,value:this.state.first_name}),Object(b.jsx)("label",{htmlFor:"",className:"mt-3",children:"Last Name:"}),Object(b.jsx)("input",{type:"text",className:"form-control",name:"last_name",onChange:this.registerFormChange,value:this.state.last_name}),Object(b.jsx)("label",{htmlFor:"",className:"mt-3",children:"Email:"}),Object(b.jsx)("input",{type:"text",className:"form-control",name:"email",onChange:this.registerFormChange,value:this.state.email}),Object(b.jsx)("label",{htmlFor:"",className:"mt-3",children:"Age:"}),Object(b.jsx)("input",{type:"number",className:"form-control",name:"age",onChange:this.registerFormChange,value:this.state.age}),Object(b.jsx)("label",{htmlFor:"",className:"mt-3",children:"Password:"}),Object(b.jsx)("input",{type:"password",className:"form-control",name:"password",onChange:this.registerFormChange,value:this.state.password}),Object(b.jsx)("button",{type:"submit",className:"btn btn-outline-warning mt-4",children:"Create Account"})]})]})})}}]),a}(s.Component),P=a.p+"static/media/404.516a15d1.svg",L=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(b.jsx)("section",{id:"S404",className:"",children:Object(b.jsx)("div",{className:"container-fluid",children:Object(b.jsxs)("div",{className:"404 d-flex flex-column justify-content-center align-items-center",children:[Object(b.jsx)("img",{className:"img-404",src:P,alt:"Not Found Page"}),Object(b.jsx)(r.b,{className:"btn btn-outline-warning",to:"/home",children:"Back to Home"})]})})})}}]),a}(s.Component),R=a(46),V=function(e){var t=e.component,a=Object(R.a)(e,["component"]);return Object(b.jsx)(m.b,Object(S.a)(Object(S.a)({},a),{},{render:function(e){return D.isAuth()?Object(b.jsx)(t,Object(S.a)({},e)):Object(b.jsx)(m.a,{to:"/login"})}}))};if(localStorage.getItem("currentUser")){var I=new _.a({encodingType:"aes"}).get("currentUser");Object(F.a)(I)}var q=function(e){Object(o.a)(a,e);var t=Object(j.a)(a);function a(){return Object(i.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)(h,{}),Object(b.jsxs)(m.d,{children:[Object(b.jsx)(m.b,{path:"/home",component:f}),Object(b.jsx)(V,{path:"/movies",component:N}),Object(b.jsx)(V,{path:"/tv",component:y}),Object(b.jsx)(m.b,{path:"/people",component:w}),Object(b.jsx)(m.b,{path:"/login",component:M}),Object(b.jsx)(m.b,{path:"/register",component:A}),Object(b.jsx)(m.b,{path:"/404",component:L}),Object(b.jsx)(m.a,{from:"/",exact:!0,to:"/home"}),Object(b.jsx)(m.a,{to:"/404"})]}),Object(b.jsx)(d,{})]})}}]),a}(s.Component),B=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,102)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,r=t.getTTFB;a(e),s(e),n(e),c(e),r(e)}))};a(94),a(95),a(96),a(97);c.a.render(Object(b.jsx)(r.a,{children:Object(b.jsx)(q,{})}),document.getElementById("slovanky")),B()},95:function(e,t,a){}},[[100,1,2]]]);
//# sourceMappingURL=main.c1ec739e.chunk.js.map